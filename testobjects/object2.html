$(document).ready(function () {
    var parentDivs = $('#nestedAccordion div'),
        childDivs = $('#nestedAccordion h3').siblings('div');

    $('#nestedAccordion h2').click(function () {
        parentDivs.slideUp();
        if ($(this).next().is(':hidden')) {
            $(this).next().slideDown();
        } else {
            $(this).next().slideUp();
        }
    });

    $('#nestedAccordion h3').click(function () {
        childDivs.slideUp();
        if ($(this).next().is(':hidden')) {
            $(this).next().slideDown();
        } else {
            $(this).next().slideUp();
        }
    });
});

<div id="nestedAccordion">
    <h2>Parent 1</h2>
    <div>
        <h3>Child 1</h3>
         <div>Sub 1</div>
         <h3>Child 2</h3>
         <div>Sub 2</div>
    </div>
    <h2>Parent 2</h2>
    <div>
        <h3>Child 1</h3>
        <div>Sub 1</div>
    </div>
</div>
